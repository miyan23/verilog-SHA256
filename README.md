# SHA-256 硬件实现 (48级流水线架构)

## 概述

这是一个采用48级流水线架构的高性能SHA-256哈希算法硬件实现。设计采用Verilog HDL编写，支持高吞吐率的哈希计算，特别适合需要高速数据处理的场景。

## 架构特点

### 流水线结构

- **前16级**: 16拍处理16轮（单轮处理）
- **中间16级**: 16拍处理32轮（双轮并行处理）
- **后15级**: 15拍处理15轮（单轮处理）
- **最终1级**: 1拍处理最后1轮 + 累加初始哈希值
- **总计**: 48拍完成64轮哈希计算

### 性能指标

- **总拍数**: 48拍
- **总轮数**: 64轮
- **吞吐率**: 每48时钟周期处理一个512位数据块
- **支持连续多块处理**

## 模块说明

### 核心计算模块

1. **sha256_calculate_h** - 单轮哈希值计算
   - 实现T1、T2生成和中间哈希值更新
   - 包含SIGMA0、SIGMA1、Ch、Maj等核心函数
   - 组合逻辑实现，无时钟延迟
2. **sha256_calculate_k** - 常量K生成
   - 根据轮次索引输出对应的SHA-256常量K值
   - 支持0~63轮的所有K值输出
3. **sha256_calculate_w** - 消息扩展
   - 根据前16个消息字生成后续的Wt值
   - 实现sigma0和sigma1函数

### 流水线级模块

1. **sha256_round_front** - 前16轮处理
   - 单轮处理，无消息扩展
   - 直接使用输入块的高32位作为Wt
   - 16轮后输入块循环还原
2. **sha256_round_middle** - 中间16-31轮处理
   - 双轮并行处理
   - 使用消息扩展生成两个连续的Wt
   - 使用单轮哈希计算模块计算两次哈希
3. **sha256_round_back** - 后32-46轮处理
   - 单轮处理
   - 使用消息扩展生成Wt
4. **sha256_round_final** - 最终轮处理
   - 处理最后一轮哈希计算
   - 完成与初始哈希值的累加

### 顶层模块

1. **sha256_compress** - 压缩函数
   - 48级流水线控制器
   - 协调各级处理模块
2. **sha256_top** - 顶层模块
   - 支持背靠背多块连续处理
   - 自动管理中间哈希值传递
   - 提供流控制接口(pause信号)